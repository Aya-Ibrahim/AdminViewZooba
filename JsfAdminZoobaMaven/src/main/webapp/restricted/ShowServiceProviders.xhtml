<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui" 
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:composition template="../template/AdminTemplate.xhtml">
        <!-- END X-NAVIGATION VERTICAL -->                     

        <ui:define name="myBody">
     
            <ul class="breadcrumb">
                <li><a href="#">Home</a></li>
                <li><a href="#">Service Providers</a></li>
            </ul>
            <h:body onload="#{serviceprovider.onload()}">
                <h:form id="form">
                    <p:dataTable var="serviceProvider" value="#{serviceprovider.model}" paginator="true" rows="10" widgetVar="carsTable"
                                 paginatorTemplate="{RowsPerPageDropdown} {FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}">

                        <p:column headerText="ServiceProvider Name" >
                            <h:outputText value="#{serviceProvider[0]}" />
                        </p:column> 
                        <p:column headerText=" Email" >
                            <h:outputText value="#{serviceProvider[1]}" />
                        </p:column>  
                        <p:column headerText=" Website" >
                            <h:outputText value="#{serviceProvider[2]}" />
                        </p:column>
                        <p:column headerText=" Address" >
                            <h:outputText value="#{serviceProvider[3]}" />
                        </p:column>
                        <p:column filterBy="#{serviceProvider[4].name}" headerText="Service"  filterMatchMode="exact">
                            <f:facet name="filter">
                                <p:selectOneMenu onchange="PF('carsTable').filter()" >
                                    <f:selectItem itemLabel="Select One" itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{serviceprovider.serviceNames}" />
                                </p:selectOneMenu>
                            </f:facet>
                            <h:outputText value="#{serviceProvider[4].name}" />
                        </p:column>
                        <p:column headerText="Supported Models">
                            <h:commandButton value="Supported Models" action="#{serviceprovider.showMakesPage()}">
                                <f:param name="id" value="#{serviceProvider[5]}"/>
                            </h:commandButton>
                        </p:column>
                    </p:dataTable>    


                </h:form>
            </h:body>
        </ui:define>

    </ui:composition>
</html>