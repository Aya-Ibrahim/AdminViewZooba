<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui" 
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:composition template="../template/AdminTemplate.xhtml">
        <!-- END X-NAVIGATION VERTICAL -->                     

        <ui:define name="myBody">
            <!-- END X-NAVIGATION VERTICAL -->                   

            <!-- START BREADCRUMB -->
            <ul class="breadcrumb">
                <li><a href="#">Home</a></li>
                <li><a href="#">Vehice</a></li>
                <li><a href="#">Edit</a></li>
            </ul>
            <!-- END BREADCRUMB -->
            <ui:repeat var="a" value="#{vehiclemodel.model}" >
                <!-- PAGE CONTENT WRAPPER -->
                <div class="page-content-wrap">
                    <div class="row">
                        <div class="col-md-12">
                            <h:form class="form-horizontal">
                                <div class="panel panel-default">

                                    <div class="panel-body">
                                        <div class="form-group">
                                            <label class="col-md-3 col-xs-12 control-label">Year</label>
                                            <div class="col-md-6 col-xs-12">                                            
                                                <div class="input-group">
                                                    <span class="input-group-addon"><span class="fa fa-pencil"></span></span>                               
                                                    <p:autoComplete  id="year" value="#{a.year.name}" completeMethod="#{serviceByInput.getYears}" required="true" requiredMessage="Year must be inserted">
                                                        <f:ajax event="blur" render="yearMessage" />
                                                    </p:autoComplete>
                                                </div>                                            
                                                <p:message id="yearMessage" for="year"/>
                                            </div>
                                        </div>

                                        <div class="form-group">                                        
                                            <label class="col-md-3 col-xs-12 control-label">Make</label>
                                            <div class="col-md-6 col-xs-12">
                                                <div class="input-group">
                                                    <span class="input-group-addon"><span class="fa fa-unlock-alt"></span></span>
                                                    <p:inputText id="make" value="#{a.model.make.name}" type="text" required="true" requiredMessage="Make must be inserted">
                                                        <f:ajax event="blur" render="makeMessage" />
                                                    </p:inputText>
                                                </div>            
                                                <p:message id="makeMessage" for="make"/>
                                            </div>
                                        </div>

                                        <div class="form-group">                                        
                                            <label class="col-md-3 col-xs-12 control-label">Model</label>
                                            <div class="col-md-6 col-xs-12">
                                                <div class="input-group">
                                                    <span class="input-group-addon"><span class="fa fa-calendar"></span></span>
                                                    <p:inputText id="model" value="#{a.model.name}" type="text" required="true" requiredMessage="Model must be inserted">
                                                        <f:ajax event="blur" render="modelMessage" />
                                                    </p:inputText>
                                                </div>
                                                <p:message id="modelMessage" for="model"/>
                                            </div>
                                        </div>
                                        <div class="form-group">                                        
                                            <label class="col-md-3 col-xs-12 control-label">Trim</label>
                                            <div class="col-md-6 col-xs-12">
                                                <div class="input-group">
                                                    <span class="input-group-addon"><span class="fa fa-calendar"></span></span>
                                                    <p:inputText id="trim" type="text" value="#{a.trim.name}" required="true" requiredMessage="Trim must be inserted"> 
                                                        <f:ajax event="blur" render="trimMessage" />
                                                    </p:inputText>
                                                </div>
                                                <p:message id="trimMessage" for="trim"/>
                                            </div>
                                            <h:commandButton value="Edit" actionListener="#{vehiclemodel.updateVehicleModel(a)}"  />
                                            <p:commandButton value="sendMail" actionListener="#{dropDownService.sendMail()}" icon="ui-icon-check" />
                                            <p:growl id="growl" showDetail="true" sticky="true" />

                                        </div>
                                    </div>
                                    
                                </div>
                            </h:form>
                        </div>
                    </div>                    
                </div>
                <!-- END PAGE CONTENT WRAPPER -->                                                
            </ui:repeat>
            <!-- MESSAGE BOX-->

        </ui:define>
    </ui:composition>


</html>
